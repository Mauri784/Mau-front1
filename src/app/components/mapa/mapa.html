<div class="mapa-container">
  <!-- Header -->
  <header class="header">
    <button class="back-button" (click)="goBack()" aria-label="Regresar a Home">
      <span class="back-icon">â€¹</span>
    </button>
    <h1 class="header-title">Mapa</h1>
  </header>

  <!-- Content -->
  <div class="content">
    <!-- Title Section -->
    <div class="title-section">
      <h2 class="section-title">VisualizaciÃ³n ubicaciÃ³n de siniestros</h2>
    </div>

    <!-- Map Container -->
    <div class="map-wrapper">

      <!-- Mapa real de Google -->
      <google-map 
        height="500px" 
        width="100%" 
        [center]="center" 
        [zoom]="zoomLevel"
        (mapClick)="onMapClick($event)">

        <!-- âœ… Marcadores sin trackBy ni eventos extra -->
        <map-marker 
          *ngFor="let marker of markers"
          [position]="{ lat: marker.lat, lng: marker.lng }"
          [title]="marker.title"
          [icon]="marker.icon">
        </map-marker>

      </google-map>

      <!-- Zoom Controls -->
      <div class="zoom-controls">
        <button class="zoom-button zoom-in" (click)="zoomIn()" aria-label="Acercar mapa">
          <span class="zoom-icon">ğŸ”</span>
          <span class="plus-sign">+</span>
        </button>
        <button class="zoom-button zoom-out" (click)="zoomOut()" aria-label="Alejar mapa">
          <span class="zoom-icon">ğŸ”</span>
          <span class="minus-sign">âˆ’</span>
        </button>
      </div>
    </div>

    <!-- Report Button -->
    <button class="report-button" (click)="reportFlood()" [disabled]="isReporting" aria-label="Reportar inundaciÃ³n">
      <span class="report-icon">ğŸš¨</span>
      <span class="report-text">{{ isReporting ? 'Reportando...' : 'Reportar inundaciÃ³n' }}</span>
    </button>
  </div>
</div>
